<ng-container *ngIf="isAuthenticated">
  <mat-toolbar color="primary">
    <button mat-icon-button aria-label="Menu icon" (click)="toggleMenu()">
      <mat-icon>menu</mat-icon>
    </button>
    <div class="flex text-2xl items-center justify-center ml-[20px]">Invoicing App</div>
    <div class="app-spacer"></div>
    <div class="User_Menu">
      <!-- <div class="user border-t flex p-3" *ngIf="user">
        <img class="h-10 w-10 rounded-md cursor-pointer" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="" />
        <div [ngClass]="{'w-52 ml-3': expanded, 'w-0': !expanded}"
             class="flex flex-col justify-between items-start overflow-hidden transition-all">
          <div class="leading-4">
            <h4 class="font-semibold">{{user.firstName}} {{user.lastName}}</h4>
            <span class="block">{{user.email}}</span>
            <span *ngIf="user.company" class="block text-sm text-gray-500">{{user.company}}</span>
          </div>
          <button (click)="logout()" class="mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors">
            Logout
          </button>
        </div>
      </div> -->
    </div>
  </mat-toolbar>
  <mat-sidenav-container autosize>
    <mat-sidenav [mode]="isMobile ? 'over' : 'side'" [opened]="isMobile ? 'false' : 'true'">
        <app-nav-item
          *ngFor="let link of dashlinksWithActive"
          [icon]="link.icon"
          [path]="link.path"
          [title]="link.title"
          [active]="link.active"
          [expanded]="expanded">
        </app-nav-item>

    </mat-sidenav>
    <mat-sidenav-content class="container md:pl-[20px] mt-[30px]">
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</ng-container>
<ng-container *ngIf="!isAuthenticated">
  <div>
    <ng-container *ngIf="isLoginMode; else registerMode">
      <app-login></app-login>
    </ng-container>
    <ng-template #registerMode>
      <app-register></app-register>
    </ng-template>
    <p>
      {{ isLoginMode ? 'Need an account?' : 'Already have an account?' }}
      <a (click)="toggleMode()">{{ isLoginMode ? 'Register' : 'Login' }}</a>
    </p>
  </div>
</ng-container>


